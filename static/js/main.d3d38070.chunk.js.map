{"version":3,"sources":["utils.tsx","Dividends.tsx","HistoricalPrice.tsx","index.tsx"],"names":["URL","window","location","origin","download_data","market","ticker","fetch","method","then","response","json","data","catch","error","console","DividensChart","useState","setData","currency","setCurrency","params","useParams","useEffect","id","resp","dividends","item","d","Date","push","x","toLocaleDateString","y","Dividends","info","XYChart","height","xScale","type","yScale","Text","verticalAnchor","AnimatedAxis","orientation","tickFormat","AnimatedGrid","columns","numTicks","AnimatedLineSeries","dataKey","xAccessor","yAccessor","HistoricalPrice","historical_price","Close","render","exact","path","component","document","getElementById"],"mappings":"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","file":"static/js/main.d3d38070.chunk.js","sourcesContent":["import { DividendsEntity, HistoricalPriceEntity, StockInfo } from \"./models\";\n\nconst URL = window.location.origin\n\nexport function download_data(market: string, ticker: string): Promise<void | StockInfo> {\n\n  return fetch(`${URL}/data/${market}/${ticker}.json`, {\n    method: 'GET',\n  })\n    .then(response => response.json())\n    .then(data => {\n\n      return data as StockInfo\n    })\n    .catch((error) => {\n      console.error('Error:', error);\n    });\n}\n\nexport function get_dividends(market: string, ticker: string): Promise<void | DividendsEntity[] | null | undefined> {\n  return download_data(market, ticker)\n    .then(response => {\n      if (response != null) {\n        return response.dividends\n      }\n    })\n    .catch(error => {\n      console.log(error)\n    })\n}\n\nexport function get_historical_price(market: string, ticker: string): Promise<void | HistoricalPriceEntity[] | null | undefined> {\n  return download_data(market, ticker)\n    .then(response => {\n      if (response != null) {\n        return response.historical_price\n      }\n    })\n    .catch(error => {\n      console.log(error)\n    })\n}","import React, { useState, useEffect } from 'react';\nimport { useParams } from 'react-router-dom';\nimport { StockInfo, DividendsEntity } from \"./models\";\nimport { Text } from '@visx/text';\nimport {\n  AnimatedAxis,\n  AnimatedGrid,\n  AnimatedLineSeries,\n  XYChart,\n} from '@visx/xychart';\nimport { download_data } from './utils';\n\nconst DividensChart: React.FunctionComponent = () => {\n  const [data, setData] = useState<{ x: string, y: number }[]>([]);\n  const [currency, setCurrency] = useState<string>(\"$\");\n  const params = useParams<{ id: string, market: string }>();\n\n  useEffect(() => {\n    download_data(params.market, params.id).then(response => {\n      let resp = response as StockInfo\n      let dividends = resp.dividends as DividendsEntity[]\n      var data = []\n      // convert date\n      for (let item of dividends) {\n        let d = new Date(item.Date)\n        data.push({\n          x: d.toLocaleDateString(),\n          y: item.Dividends,\n        })\n      }\n      setData(data)\n      setCurrency(resp.info.currency)\n    })\n  })\n\n  const accessors = {\n    xAccessor: (d: { x: string, y: number }) => d.x,\n    yAccessor: (d: { x: string, y: number }) => d.y,\n  };\n  return (\n    <XYChart height={300} xScale={{ type: 'band' }} yScale={{ type: 'linear' }}>\n      <Text verticalAnchor=\"start\">{params.id}</Text>\n      <AnimatedAxis orientation=\"bottom\" />\n      <AnimatedAxis\n        orientation=\"left\"\n        tickFormat={d => `${currency} ${d}`} />\n\n      <AnimatedGrid columns={false} numTicks={3} />\n      <AnimatedLineSeries dataKey=\"Line 1\" data={data} {...accessors} />\n    </XYChart>\n  );\n\n  // TODO: Add tooltip\n  /*\n   <Tooltip\n      snapTooltipToDatumX\n      snapTooltipToDatumY\n      showVerticalCrosshair\n      showSeriesGlyphs\n      renderTooltip={({ tooltipData, colorScale }) => (\n        <div>\n          <div style={{ color: colorScale?(tooltipData?.nearestDatum.key) }}>\n            {tooltipData.nearestDatum.key}\n          </div>\n          {accessors.xAccessor(tooltipData.nearestDatum.datum)}\n          {', '}\n          {accessors.yAccessor(tooltipData.nearestDatum.datum)}\n        </div>\n      )}\n    />\n\n  */\n}\n\nexport default DividensChart;","import React, { useState, useEffect } from 'react';\nimport { useParams } from 'react-router-dom';\nimport { HistoricalPriceEntity, StockInfo } from \"./models\";\nimport { Text } from '@visx/text';\nimport {\n  AnimatedAxis,\n  AnimatedGrid,\n  AnimatedLineSeries,\n  XYChart,\n} from '@visx/xychart';\nimport { download_data } from './utils';\n\nconst HistoricalPrice: React.FunctionComponent = () => {\n  const [data, setData] = useState<{ x: string, y: number }[]>([]);\n  const [currency, setCurrency] = useState<string>(\"$\");\n  const params = useParams<{ id: string, market: string }>();\n\n  useEffect(() => {\n    download_data(params.market, params.id).then(response => {\n      let resp = response as StockInfo\n      let dividends = resp.historical_price as HistoricalPriceEntity[]\n      var data = []\n      // convert date\n      for (let item of dividends) {\n        let d = new Date(item.Date)\n        data.push({\n          x: d.toLocaleDateString(),\n          y: item.Close,\n        })\n      }\n      setData(data)\n      setCurrency(resp.info.currency)\n    })\n  })\n\n  const accessors = {\n    xAccessor: (d: { x: string, y: number }) => d.x,\n    yAccessor: (d: { x: string, y: number }) => d.y,\n  };\n  return (\n    <XYChart height={500} xScale={{ type: 'band' }} yScale={{ type: 'linear' }}>\n      <Text verticalAnchor=\"start\">{params.id}</Text>\n      <AnimatedAxis orientation=\"bottom\" />\n      <AnimatedAxis orientation=\"left\" tickFormat={d => `${currency} ${d}`} />\n      <AnimatedGrid columns={false} numTicks={3} />\n      <AnimatedLineSeries dataKey=\"Line 1\" data={data} {...accessors} />\n    </XYChart>\n  );\n\n  // TODO: Add tooltip\n  /*\n   <Tooltip\n      snapTooltipToDatumX\n      snapTooltipToDatumY\n      showVerticalCrosshair\n      showSeriesGlyphs\n      renderTooltip={({ tooltipData, colorScale }) => (\n        <div>\n          <div style={{ color: colorScale?(tooltipData?.nearestDatum.key) }}>\n            {tooltipData.nearestDatum.key}\n          </div>\n          {accessors.xAccessor(tooltipData.nearestDatum.datum)}\n          {', '}\n          {accessors.yAccessor(tooltipData.nearestDatum.datum)}\n        </div>\n      )}\n    />\n\n  */\n}\n\nexport default HistoricalPrice;","import React from 'react';\nimport { render } from 'react-dom';\nimport DividensChart from './Dividends';\nimport HistoricalPrice from './HistoricalPrice';\n\nimport './sandbox-styles.css';\nimport { HashRouter as Router, Switch, Route, } from \"react-router-dom\";\n\nrender(\n  <Router >\n    <Switch>\n      <Route exact path=\"/dividends/:market/:id\" component={DividensChart} />\n      <Route exact path=\"/price/:market/:id\" component={HistoricalPrice} />\n    </Switch>\n  </Router>,\n  document.getElementById('root'),\n);"],"sourceRoot":""}